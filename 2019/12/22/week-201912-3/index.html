<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 周记 2019.12.16-12.22 · 308实验室</title><meta name="description" content="周记 2019.12.16-12.22 - Kiyamou"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="308实验室"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="308实验室" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/circle.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/Kiyamou" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">周记 2019.12.16-12.22</h1><div class="post-info">Dec 22, 2019</div><div class="post-content"><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>不写点东西督促，日子真的会从指尖溜走。但写日记…一方面真的是不一定保证能每天都写，另一方面，毕竟学业上还有其他的事情，有时候一天学到的东西也没多少可写。</p>
<p>总之，把日记改成周记吧。</p>
<p><del>还是别用“周报”这个字眼了2333</del></p>
<h3 id="对JincResize的完善"><a href="#对JincResize的完善" class="headerlink" title="对JincResize的完善"></a>对JincResize的完善</h3><h4 id="发布r4：添加32bit支持"><a href="#发布r4：添加32bit支持" class="headerlink" title="发布r4：添加32bit支持"></a>发布r4：添加32bit支持</h4><p>详情写在<a href="https://kiyamou.github.io/2019/11/24/rebuild-JincResize/" target="_blank" rel="noopener">JincResize代码的重构</a>，这里就不再copy了。</p>
<p>要是再补充一句的话，就是多个分支的if语句的写法，之前用Python时只写过<code>if else</code>和<code>if elif</code>，没有把三者写在一起过…没错…我的基础知识实在是匮乏得可怜。</p>
<a id="more"></a>

<p>在C++中</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ()</span><br><span class="line">	...</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ()</span><br><span class="line">	...</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	...</span><br></pre></td></tr></table></figure>

<p>在Python中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ...:</span><br><span class="line">	...</span><br><span class="line"><span class="keyword">elif</span> ...:</span><br><span class="line">	...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	...</span><br></pre></td></tr></table></figure>

<h4 id="提高安全性，修正输入变量的类型转换"><a href="#提高安全性，修正输入变量的类型转换" class="headerlink" title="提高安全性，修正输入变量的类型转换"></a>提高安全性，修正输入变量的类型转换</h4><p>代码中的面向Python接口的int型输入参数，有些是直接用<code>(int)</code>做了一次强制类型转换，有些则干脆什么都没有写。</p>
<p>统一修改成了<code>VSHelper.h</code>中的<code>int64ToIntS()</code>。</p>
<h4 id="在提高速度的边缘反复挣扎"><a href="#在提高速度的边缘反复挣扎" class="headerlink" title="在提高速度的边缘反复挣扎"></a>在提高速度的边缘反复挣扎</h4><p>论如何更快地做double到int的转换<br><del>然而我没感到有卵用，特别是定义函数后似乎没有内联，反而由于调用函数的成本让速度更慢了</del></p>
<p>但话说回来，从这里我感受到了编程的奇妙，正如看到的一篇博文中所说，“螺蛳壳里做道场，一行代码有学问”。</p>
<p>而这也让我切实地感受到，我的编程功底在提升。</p>
<h3 id="从Tensorflow到Paddle"><a href="#从Tensorflow到Paddle" class="headerlink" title="从Tensorflow到Paddle"></a>从Tensorflow到Paddle</h3><p>额…这个标题起得太大了，只是把一些Tensorflow的函数用Paddle的代替。</p>
<p>（话说这和我现在做的AviSynth到VapourSynth的迁移不正是很像吗，都是从一个框架到另一个框架的迁移）</p>
<h3 id="AreaResize的迁移"><a href="#AreaResize的迁移" class="headerlink" title="AreaResize的迁移"></a>AreaResize的迁移</h3><p>从D9上找到一个尚未被前辈迁移到vs的avs plugin，开始迁移，作为练习。</p>
<p>周四周五下午，和周六一天，基本上都在做基础的迁移（搭框架、改写不一样的C++后端函数、<del>人工copy代码</del>）。说实话，看着400+行的代码，还是很满意这几天的工作的。</p>
<p>虽然周日从文本编辑器到IDE后，望着<code>80+</code>+<code>20+</code>的error，让我有种写了两天bug的感觉。</p>
<h3 id="日常生活"><a href="#日常生活" class="headerlink" title="日常生活"></a>日常生活</h3><p>把超期半年多的书还回了图书馆，借了两本和并行计算相关的书，外加我之前借过的数字图像处理。</p>
<p>我只是想看看和AVX/SSE指令集优化相关的，但..那两本书讲得也是…比较宏观，甚至让我有种上并行计算课的感觉。而搜索网上的教程，也不知从何下手，似乎最直接地，还是死磕现有的代码…</p>
</div></article></div></main><footer><div class="paginator"><a href="/2019/12/27/Phase-trans-to-vs/" class="prev">PREV</a><a href="/2019/12/18/image-process-code-1/" class="next">NEXT</a></div><div class="copyright"><p>© 2019 - 2020 <a href="http://yoursite.com">Kiyamou</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>